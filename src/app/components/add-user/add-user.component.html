<div style="position: relative;">
  <mat-card style="margin: 20px;">
    <mat-card-header>
      <mat-card-title>Add User</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-grid-list cols="1" rowHeight="60px">
        <form [formGroup]="addUserForm" (ngSubmit)="addUser(addUserForm.value)">
          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Type</mat-label>
              <mat-select [formControl]="addUserForm.controls['type']" (ngModelChange)="roleChanged($event)">
                <mat-option *ngFor="let item of allRoles" [value]="item.key">{{item.name}}</mat-option>
              </mat-select>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile *ngIf="addUserForm.controls['type'].value === 'roleSme'">
            <mat-form-field>
              <mat-label>Sme Refrence</mat-label>
              <mat-select [formControl]="addUserForm.controls['smeRef']" (ngModelChange)="smeChanged($event)">
                <mat-option [hidden]="item.userRef !== null" *ngFor="let item of allSmes" [value]="item.key">
                  {{item.name}}</mat-option>
              </mat-select>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile *ngIf="addUserForm.controls['type'].value === 'roleDept'">
            <mat-form-field>
              <mat-label>Department</mat-label>
              <mat-select [formControl]="addUserForm.controls['department']"
                (ngModelChange)="departmentChanged($event)">
                <mat-option *ngFor="let item of allDepartments" [value]="item.key">
                  {{item.name}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Name</mat-label>
              <input matInput type="text" placeholder="e.g. Legal" formControlName="name"
                [formControl]="addUserForm.controls['name']" />
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Email</mat-label>
              <input matInput type="text" placeholder="e.g. abc124" formControlName="email"
                [formControl]="addUserForm.controls['email']" />
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Username</mat-label>
              <input matInput type="text" placeholder="e.g. abc124" formControlName="username"
                [formControl]="addUserForm.controls['username']" />
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Password</mat-label>
              <input matInput type="text" placeholder="Password" formControlName="password"
                [formControl]="addUserForm.controls['password']" />
            </mat-form-field>
          </mat-grid-tile>
          <mat-grid-tile>
            <button [disabled]="!addUserForm.valid" mat-raised-button color="primary" type="submit">Add</button>
          </mat-grid-tile>
        </form>
        <mat-grid-tile>
          <button mat-raised-button (click)="goBack()" color="accent" type="submit">Close</button>
        </mat-grid-tile>
      </mat-grid-list>
    </mat-card-content>
  </mat-card>
</div>