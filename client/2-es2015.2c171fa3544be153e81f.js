(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3/ER":function(t,e,r){"use strict";(function(t){var o=r("Ju5/"),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,n=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=n&&n.exports===a?o.a.Buffer:void 0,i=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var r=t.length,o=i?i(r):new t.constructor(r);return t.copy(o),o}}).call(this,r("3UD+")(t))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"Ju5/":function(t,e,r){"use strict";var o=r("XqMk"),a="object"==typeof self&&self&&self.Object===Object&&self,n=o.a||a||Function("return this")();e.a=n},L3Qv:function(t,e,r){"use strict";e.a=function(){return!1}},WOAq:function(t,e,r){"use strict";(function(t){var o=r("Ju5/"),a=r("L3Qv"),n="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=n&&"object"==typeof t&&t&&!t.nodeType&&t,i=s&&s.exports===n?o.a.Buffer:void 0;e.a=(i?i.isBuffer:void 0)||a.a}).call(this,r("3UD+")(t))},XqMk:function(t,e,r){"use strict";var o="object"==typeof global&&global&&global.Object===Object&&global;e.a=o},hrfs:function(t,e,r){"use strict";r.d(e,"a",function(){return he}),r.d(e,"b",function(){return le}),r.d(e,"c",function(){return ce});var o=r("8Y7J"),a=r("2Vo4"),n=function(t,e){return t===e||t!=t&&e!=e},s=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1},i=Array.prototype.splice;function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}c.prototype.clear=function(){this.__data__=[],this.size=0},c.prototype.delete=function(t){var e=this.__data__,r=s(e,t);return!(r<0||(r==e.length-1?e.pop():i.call(e,r,1),--this.size,0))},c.prototype.get=function(t){var e=this.__data__,r=s(e,t);return r<0?void 0:e[r][1]},c.prototype.has=function(t){return s(this.__data__,t)>-1},c.prototype.set=function(t,e){var r=this.__data__,o=s(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this};var u,h=c,l=r("Ju5/"),d=l.a.Symbol,p=Object.prototype,f=p.hasOwnProperty,b=p.toString,y=d?d.toStringTag:void 0,g=Object.prototype.toString,v=d?d.toStringTag:void 0,j=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":v&&v in Object(t)?function(t){var e=f.call(t,y),r=t[y];try{t[y]=void 0;var o=!0}catch(n){}var a=b.call(t);return o&&(e?t[y]=r:delete t[y]),a}(t):function(t){return g.call(t)}(t)},_=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},O=function(t){if(!_(t))return!1;var e=j(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},C=l.a["__core-js_shared__"],m=(u=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",w=Function.prototype.toString,A=function(t){if(null!=t){try{return w.call(t)}catch(e){}try{return t+""}catch(e){}}return""},B=/^\[object .+?Constructor\]$/,D=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!_(t)||(e=t,m&&m in e))&&(O(t)?D:B).test(A(t));var e}(r)?r:void 0},x=k(l.a,"Map"),S=k(Object,"create"),E=Object.prototype.hasOwnProperty,U=Object.prototype.hasOwnProperty;function P(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}P.prototype.clear=function(){this.__data__=S?S(null):{},this.size=0},P.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},P.prototype.get=function(t){var e=this.__data__;if(S){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return E.call(e,t)?e[t]:void 0},P.prototype.has=function(t){var e=this.__data__;return S?void 0!==e[t]:U.call(e,t)},P.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=S&&void 0===e?"__lodash_hash_undefined__":e,this};var H=P,M=function(t,e){var r,o,a=t.__data__;return("string"==(o=typeof(r=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?a["string"==typeof e?"string":"hash"]:a.map};function R(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}R.prototype.clear=function(){this.size=0,this.__data__={hash:new H,map:new(x||h),string:new H}},R.prototype.delete=function(t){var e=M(this,t).delete(t);return this.size-=e?1:0,e},R.prototype.get=function(t){return M(this,t).get(t)},R.prototype.has=function(t){return M(this,t).has(t)},R.prototype.set=function(t,e){var r=M(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this};var L=R;function z(t){var e=this.__data__=new h(t);this.size=e.size}z.prototype.clear=function(){this.__data__=new h,this.size=0},z.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},z.prototype.get=function(t){return this.__data__.get(t)},z.prototype.has=function(t){return this.__data__.has(t)},z.prototype.set=function(t,e){var r=this.__data__;if(r instanceof h){var o=r.__data__;if(!x||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new L(o)}return r.set(t,e),this.size=r.size,this};var W=z,T=function(){try{var t=k(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),I=function(t,e,r){"__proto__"==e&&T?T(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},F=Object.prototype.hasOwnProperty,V=function(t,e,r){var o=t[e];F.call(t,e)&&n(o,r)&&(void 0!==r||e in t)||I(t,e,r)},q=function(t,e,r,o){var a=!r;r||(r={});for(var n=-1,s=e.length;++n<s;){var i=e[n],c=o?o(r[i],t[i],i,r,t):void 0;void 0===c&&(c=t[i]),a?I(r,i,c):V(r,i,c)}return r},J=function(t){return null!=t&&"object"==typeof t},$=function(t){return J(t)&&"[object Arguments]"==j(t)},N=Object.prototype,X=N.hasOwnProperty,G=N.propertyIsEnumerable,Q=$(function(){return arguments}())?$:function(t){return J(t)&&X.call(t,"callee")&&!G.call(t,"callee")},Y=Array.isArray,K=r("WOAq"),Z=/^(?:0|[1-9]\d*)$/,tt=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Z.test(t))&&t>-1&&t%1==0&&t<e},et=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt["[object Arguments]"]=rt["[object Array]"]=rt["[object ArrayBuffer]"]=rt["[object Boolean]"]=rt["[object DataView]"]=rt["[object Date]"]=rt["[object Error]"]=rt["[object Function]"]=rt["[object Map]"]=rt["[object Number]"]=rt["[object Object]"]=rt["[object RegExp]"]=rt["[object Set]"]=rt["[object String]"]=rt["[object WeakMap]"]=!1;var ot=function(t){return function(e){return t(e)}},at=r("xutz"),nt=at.a&&at.a.isTypedArray,st=nt?ot(nt):function(t){return J(t)&&et(t.length)&&!!rt[j(t)]},it=Object.prototype.hasOwnProperty,ct=function(t,e){var r=Y(t),o=!r&&Q(t),a=!r&&!o&&Object(K.a)(t),n=!r&&!o&&!a&&st(t),s=r||o||a||n,i=s?function(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}(t.length,String):[],c=i.length;for(var u in t)!e&&!it.call(t,u)||s&&("length"==u||a&&("offset"==u||"parent"==u)||n&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||tt(u,c))||i.push(u);return i},ut=Object.prototype,ht=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ut)},lt=function(t,e){return function(r){return t(e(r))}},dt=lt(Object.keys,Object),pt=Object.prototype.hasOwnProperty,ft=function(t){return null!=t&&et(t.length)&&!O(t)},bt=function(t){return ft(t)?ct(t):function(t){if(!ht(t))return dt(t);var e=[];for(var r in Object(t))pt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)},yt=Object.prototype.hasOwnProperty,gt=function(t){return ft(t)?ct(t,!0):function(t){if(!_(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=ht(t),r=[];for(var o in t)("constructor"!=o||!e&&yt.call(t,o))&&r.push(o);return r}(t)},vt=r("3/ER"),jt=function(){return[]},_t=Object.prototype.propertyIsEnumerable,Ot=Object.getOwnPropertySymbols,Ct=Ot?function(t){return null==t?[]:(t=Object(t),function(e,r){for(var o=-1,a=null==e?0:e.length,n=0,s=[];++o<a;){var i=e[o];_t.call(t,i)&&(s[n++]=i)}return s}(Ot(t)))}:jt,mt=function(t,e){for(var r=-1,o=e.length,a=t.length;++r<o;)t[a+r]=e[r];return t},wt=lt(Object.getPrototypeOf,Object),At=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)mt(e,Ct(t)),t=wt(t);return e}:jt,Bt=function(t,e,r){var o=e(t);return Y(t)?o:mt(o,r(t))},Dt=function(t){return Bt(t,bt,Ct)},kt=function(t){return Bt(t,gt,At)},xt=k(l.a,"DataView"),St=k(l.a,"Promise"),Et=k(l.a,"Set"),Ut=k(l.a,"WeakMap"),Pt=A(xt),Ht=A(x),Mt=A(St),Rt=A(Et),Lt=A(Ut),zt=j;(xt&&"[object DataView]"!=zt(new xt(new ArrayBuffer(1)))||x&&"[object Map]"!=zt(new x)||St&&"[object Promise]"!=zt(St.resolve())||Et&&"[object Set]"!=zt(new Et)||Ut&&"[object WeakMap]"!=zt(new Ut))&&(zt=function(t){var e=j(t),r="[object Object]"==e?t.constructor:void 0,o=r?A(r):"";if(o)switch(o){case Pt:return"[object DataView]";case Ht:return"[object Map]";case Mt:return"[object Promise]";case Rt:return"[object Set]";case Lt:return"[object WeakMap]"}return e});var Wt=zt,Tt=Object.prototype.hasOwnProperty,It=l.a.Uint8Array,Ft=function(t){var e=new t.constructor(t.byteLength);return new It(e).set(new It(t)),e},Vt=/\w*$/,qt=d?d.prototype:void 0,Jt=qt?qt.valueOf:void 0,$t=Object.create,Nt=function(){function t(){}return function(e){if(!_(e))return{};if($t)return $t(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Xt=at.a&&at.a.isMap,Gt=Xt?ot(Xt):function(t){return J(t)&&"[object Map]"==Wt(t)},Qt=at.a&&at.a.isSet,Yt=Qt?ot(Qt):function(t){return J(t)&&"[object Set]"==Wt(t)},Kt={};Kt["[object Arguments]"]=Kt["[object Array]"]=Kt["[object ArrayBuffer]"]=Kt["[object DataView]"]=Kt["[object Boolean]"]=Kt["[object Date]"]=Kt["[object Float32Array]"]=Kt["[object Float64Array]"]=Kt["[object Int8Array]"]=Kt["[object Int16Array]"]=Kt["[object Int32Array]"]=Kt["[object Map]"]=Kt["[object Number]"]=Kt["[object Object]"]=Kt["[object RegExp]"]=Kt["[object Set]"]=Kt["[object String]"]=Kt["[object Symbol]"]=Kt["[object Uint8Array]"]=Kt["[object Uint8ClampedArray]"]=Kt["[object Uint16Array]"]=Kt["[object Uint32Array]"]=!0,Kt["[object Error]"]=Kt["[object Function]"]=Kt["[object WeakMap]"]=!1;var Zt=function t(e,r,o,a,n,s){var i,c=1&r,u=2&r,h=4&r;if(o&&(i=n?o(e,a,n,s):o(e)),void 0!==i)return i;if(!_(e))return e;var l=Y(e);if(l){if(i=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Tt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!c)return function(t,e){var r=-1,o=t.length;for(e||(e=Array(o));++r<o;)e[r]=t[r];return e}(e,i)}else{var d=Wt(e),p="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(K.a)(e))return Object(vt.a)(e,c);if("[object Object]"==d||"[object Arguments]"==d||p&&!n){if(i=u||p?{}:function(t){return"function"!=typeof t.constructor||ht(t)?{}:Nt(wt(t))}(e),!c)return u?function(t,e){return q(t,At(t),e)}(e,function(t,e){return t&&q(e,gt(e),t)}(i,e)):function(t,e){return q(t,Ct(t),e)}(e,function(t,e){return t&&q(e,bt(e),t)}(i,e))}else{if(!Kt[d])return n?e:{};i=function(t,e,r){var o,a,n=t.constructor;switch(e){case"[object ArrayBuffer]":return Ft(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return function(t,e){var r=e?Ft(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?Ft(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return(a=new(o=t).constructor(o.source,Vt.exec(o))).lastIndex=o.lastIndex,a;case"[object Set]":return new n;case"[object Symbol]":return Jt?Object(Jt.call(t)):{}}}(e,d,c)}}s||(s=new W);var f=s.get(e);if(f)return f;s.set(e,i),Yt(e)?e.forEach(function(a){i.add(t(a,r,o,a,e,s))}):Gt(e)&&e.forEach(function(a,n){i.set(n,t(a,r,o,n,e,s))});var b=l?void 0:(h?u?kt:Dt:u?gt:bt)(e);return function(t,e){for(var r=-1,o=null==t?0:t.length;++r<o&&!1!==e(t[r],r););}(b||e,function(a,n){b&&(a=e[n=a]),V(i,n,t(a,r,o,n,e,s))}),i},te=r("MO+k");const ee=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]];function re(t,e){return"rgba("+t.concat(e).join(",")+")"}function oe(t,e){return Math.floor(Math.random()*(e-t+1))+t}function ae(t){return{backgroundColor:t.map(t=>re(t,.6)),borderColor:t.map(()=>"#fff"),pointBackgroundColor:t.map(t=>re(t,1)),pointBorderColor:t.map(()=>"#fff"),pointHoverBackgroundColor:t.map(t=>re(t,1)),pointHoverBorderColor:t.map(t=>re(t,1))}}function ne(){return[oe(0,255),oe(0,255),oe(0,255)]}function se(t){return ee[t]||ne()}function ie(t){const e=new Array(t);for(let r=0;r<t;r++)e[r]=ee[r]||ne();return e}let ce=(()=>{class t{constructor(){this.pColorschemesOptions={},this.colorschemesOptions=new a.a({})}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return t.\u0275prov=Object(o.bc)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const ue={Default:0,Update:1,Refresh:2};ue[ue.Default]="Default",ue[ue.Update]="Update",ue[ue.Refresh]="Refresh";class he{constructor(t,e){this.element=t,this.themeService=e,this.options={},this.chartClick=new o.o,this.chartHover=new o.o,this.old={dataExists:!1,dataLength:0,datasetsExists:!1,datasetsLength:0,datasetsDataObjects:[],datasetsDataLengths:[],colorsExists:!1,colors:[],labelsExist:!1,labels:[],legendExists:!1,legend:{}},this.subs=[]}static registerPlugin(t){te.pluginService.register(t)}static unregisterPlugin(t){te.pluginService.unregister(t)}ngOnInit(){this.ctx=this.element.nativeElement.getContext("2d"),this.refresh(),this.subs.push(this.themeService.colorschemesOptions.subscribe(t=>this.themeChanged(t)))}themeChanged(t){this.refresh()}ngDoCheck(){if(!this.chart)return;let t=ue.Default;const e=e=>{t=e>t?e:t};switch(!!this.data!==this.old.dataExists&&(this.propagateDataToDatasets(this.data),this.old.dataExists=!!this.data,e(ue.Update)),this.data&&this.data.length!==this.old.dataLength&&(this.old.dataLength=this.data&&this.data.length||0,e(ue.Update)),!!this.datasets!==this.old.datasetsExists&&(this.old.datasetsExists=!!this.datasets,e(ue.Update)),this.datasets&&this.datasets.length!==this.old.datasetsLength&&(this.old.datasetsLength=this.datasets&&this.datasets.length||0,e(ue.Update)),this.datasets&&this.datasets.filter((t,e)=>t.data!==this.old.datasetsDataObjects[e]).length&&(this.old.datasetsDataObjects=this.datasets.map(t=>t.data),e(ue.Update)),this.datasets&&this.datasets.filter((t,e)=>t.data.length!==this.old.datasetsDataLengths[e]).length&&(this.old.datasetsDataLengths=this.datasets.map(t=>t.data.length),e(ue.Update)),!!this.colors!==this.old.colorsExists&&(this.old.colorsExists=!!this.colors,this.updateColors(),e(ue.Update)),this.colors&&this.colors.filter((t,e)=>!this.colorsEqual(t,this.old.colors[e])).length&&(this.old.colors=this.colors.map(t=>this.copyColor(t)),this.updateColors(),e(ue.Update)),!!this.labels!==this.old.labelsExist&&(this.old.labelsExist=!!this.labels,e(ue.Update)),this.labels&&this.labels.filter((t,e)=>!this.labelsEqual(t,this.old.labels[e])).length&&(this.old.labels=this.labels.map(t=>this.copyLabel(t)),e(ue.Update)),!!this.options.legend!==this.old.legendExists&&(this.old.legendExists=!!this.options.legend,e(ue.Refresh)),this.options.legend&&this.options.legend.position!==this.old.legend.position&&(this.old.legend.position=this.options.legend.position,e(ue.Refresh)),t){case ue.Default:break;case ue.Update:this.update();break;case ue.Refresh:this.refresh()}}copyLabel(t){return Array.isArray(t)?[...t]:t}labelsEqual(t,e){return Array.isArray(t)===Array.isArray(e)&&(Array.isArray(t)||t===e)&&(!Array.isArray(t)||t.length===e.length)&&(!Array.isArray(t)||0===t.filter((t,r)=>t!==e[r]).length)}copyColor(t){return{backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderColor:t.borderColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,pointBorderColor:t.pointBorderColor,pointBackgroundColor:t.pointBackgroundColor,pointBorderWidth:t.pointBorderWidth,pointRadius:t.pointRadius,pointHoverRadius:t.pointHoverRadius,pointHitRadius:t.pointHitRadius,pointHoverBackgroundColor:t.pointHoverBackgroundColor,pointHoverBorderColor:t.pointHoverBorderColor,pointHoverBorderWidth:t.pointHoverBorderWidth,pointStyle:t.pointStyle,hoverBackgroundColor:t.hoverBackgroundColor,hoverBorderColor:t.hoverBorderColor,hoverBorderWidth:t.hoverBorderWidth}}colorsEqual(t,e){return!t==!e&&(!t||t.backgroundColor===e.backgroundColor&&t.borderWidth===e.borderWidth&&t.borderColor===e.borderColor&&t.borderCapStyle===e.borderCapStyle&&t.borderDash===e.borderDash&&t.borderDashOffset===e.borderDashOffset&&t.borderJoinStyle===e.borderJoinStyle&&t.pointBorderColor===e.pointBorderColor&&t.pointBackgroundColor===e.pointBackgroundColor&&t.pointBorderWidth===e.pointBorderWidth&&t.pointRadius===e.pointRadius&&t.pointHoverRadius===e.pointHoverRadius&&t.pointHitRadius===e.pointHitRadius&&t.pointHoverBackgroundColor===e.pointHoverBackgroundColor&&t.pointHoverBorderColor===e.pointHoverBorderColor&&t.pointHoverBorderWidth===e.pointHoverBorderWidth&&t.pointStyle===e.pointStyle&&t.hoverBackgroundColor===e.hoverBackgroundColor&&t.hoverBorderColor===e.hoverBorderColor&&t.hoverBorderWidth===e.hoverBorderWidth)}updateColors(){this.datasets.forEach((t,e)=>{this.colors&&this.colors[e]?Object.assign(t,this.colors[e]):Object.assign(t,function(t,e,r){if("pie"===t||"doughnut"===t)return ae(ie(r));if("polarArea"===t)return{backgroundColor:(o=ie(r)).map(t=>re(t,.6)),borderColor:o.map(t=>re(t,1)),hoverBackgroundColor:o.map(t=>re(t,.8)),hoverBorderColor:o.map(t=>re(t,1))};var o;if("line"===t||"radar"===t)return function(t){return{backgroundColor:re(t,.4),borderColor:re(t,1),pointBackgroundColor:re(t,1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:re(t,.8)}}(se(e));if("bar"===t||"horizontalBar"===t)return function(t){return{backgroundColor:re(t,.6),borderColor:re(t,1),hoverBackgroundColor:re(t,.8),hoverBorderColor:re(t,1)}}(se(e));if("bubble"===t)return ae(ie(r));if("scatter"===t)return ae(ie(r));throw new Error(`getColors - Unsupported chart type ${t}`)}(this.chartType,e,t.data.length),Object.assign({},t))})}ngOnChanges(t){let e=ue.Default;const r=t=>{e=t>e?t:e};switch(t.hasOwnProperty("data")&&t.data.currentValue&&(this.propagateDataToDatasets(t.data.currentValue),r(ue.Update)),t.hasOwnProperty("datasets")&&t.datasets.currentValue&&(this.propagateDatasetsToData(t.datasets.currentValue),r(ue.Update)),t.hasOwnProperty("labels")&&(this.chart&&(this.chart.data.labels=t.labels.currentValue),r(ue.Update)),t.hasOwnProperty("legend")&&(this.chart&&(this.chart.config.options.legend.display=t.legend.currentValue,this.chart.generateLegend()),r(ue.Update)),t.hasOwnProperty("options")&&r(ue.Refresh),e){case ue.Update:this.update();break;case ue.Refresh:case ue.Default:this.refresh()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}update(t){if(this.chart)return this.chart.update(t)}hideDataset(t,e){this.chart.getDatasetMeta(t).hidden=e,this.chart.update()}isDatasetHidden(t){return this.chart.getDatasetMeta(t).hidden}toBase64Image(){return this.chart.toBase64Image()}getChartConfiguration(){const t=this.getDatasets(),e=Object.assign({},this.options);!1===this.legend&&(e.legend={display:!1}),e.hover=e.hover||{},e.hover.onHover||(e.hover.onHover=(t,e)=>{e&&!e.length||this.chartHover.emit({event:t,active:e})}),e.onClick||(e.onClick=(t,e)=>{this.chartClick.emit({event:t,active:e})});const r=this.smartMerge(e,this.themeService.getColorschemesOptions());return{type:this.chartType,data:{labels:this.labels||[],datasets:t},plugins:this.plugins,options:r}}getChartBuilder(t){const e=this.getChartConfiguration();return new te.Chart(t,e)}smartMerge(t,e,r=0){if(0===r&&(t=Zt(t,5)),Object.keys(e).forEach(o=>{if(Array.isArray(e[o])){const a=t[o];a&&a.forEach(t=>{this.smartMerge(t,e[o][0],r+1)})}else"object"==typeof e[o]?(o in t||(t[o]={}),this.smartMerge(t[o],e[o],r+1)):t[o]=e[o]}),0===r)return t}isMultiLineLabel(t){return Array.isArray(t)}joinLabel(t){return t?this.isMultiLineLabel(t)?t.join(" "):t:null}propagateDatasetsToData(t){this.data=this.datasets.map(t=>t.data),this.chart&&(this.chart.data.datasets=t),this.updateColors()}propagateDataToDatasets(t){this.isMultiDataSet(t)?this.datasets&&t.length===this.datasets.length?this.datasets.forEach((e,r)=>{e.data=t[r]}):(this.datasets=t.map((t,e)=>({data:t,label:this.joinLabel(this.labels[e])||`Label ${e}`})),this.chart&&(this.chart.data.datasets=this.datasets)):this.datasets?(this.datasets[0]||(this.datasets[0]={}),this.datasets[0].data=t,this.datasets.splice(1)):(this.datasets=[{data:t}],this.chart&&(this.chart.data.datasets=this.datasets)),this.updateColors()}isMultiDataSet(t){return Array.isArray(t[0])}getDatasets(){if(!this.datasets&&!this.data)throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);return this.datasets?(this.propagateDatasetsToData(this.datasets),this.datasets):this.data?(this.propagateDataToDatasets(this.data),this.datasets):void 0}refresh(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.ctx&&(this.chart=this.getChartBuilder(this.ctx))}}class le{}},xutz:function(t,e,r){"use strict";(function(t){var o=r("XqMk"),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,n=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=n&&n.exports===a&&o.a.process,i=function(){try{return n&&n.require&&n.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();e.a=i}).call(this,r("3UD+")(t))}}]);